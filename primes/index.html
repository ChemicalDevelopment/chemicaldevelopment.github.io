<html>
<head>
	  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
	</head>
	<body>
		<div id="chart_div"></div>
	</body>
<script>
google.charts.load('current', {packages: ['corechart', 'line']});
google.charts.setOnLoadCallback(drawBackgroundColor);
var max_x = 10000;
var buff = Math.ceil(max_x / 1000);

function drawBackgroundColor() {
      var data = new google.visualization.DataTable();
      data.addColumn('number', 'x');
      data.addColumn('number', 'Primes');
      data.addColumn('number', 'x/ln(x)');
      data.addColumn('number', 'Li(x)');

      var sieve = [];
      var i = 0;
      for (i = 0; i < max_x; ++i) {
      	sieve[i] = true;
      }
      for (i = 2; i < Math.sqrt(max_x); ++i) {
      	if (sieve[i] == false) {
      		continue;
      	}
      	for (var cI = 2 * i; cI < max_x; cI += i) {
      		sieve[cI] = false;
      	}
      }
      sieve[0] = false;
      sieve[1] = false;

      var curCount = 0;
      var j = 0;
      var li_x = 0; //logarithmic  integral function
      var buf_int = 16000;
      for (i = 0; i < max_x; ++i) {
      	if (i >= 2) {
      		for (j = 0; j < buf_int; ++j) {
      			li_x += (1 / Math.log(i + j / buf_int)) / buf_int;
      		}
      	}
      	if (sieve[i] == true) {
      		++curCount;
      	}
      	if (i % buff == 0) {
      		data.addRow([i, curCount, i / Math.log(i), li_x]);
      	}
      }

      var options = {
        hAxis: {
          title: 'x'
        },
        vAxis: {
          title: 'Primes'
        },
        'width':1600,
  		'height':900,
        backgroundColor: '#f1f8e9'
      };

      var chart = new google.visualization.LineChart(document.getElementById('chart_div'));
      chart.draw(data, options);
    }
</script>
</html>